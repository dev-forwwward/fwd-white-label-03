<!--
  FWD White Label — Webflow Custom Code Snippet
  ─────────────────────────────────────────────
  Paste this into: Webflow → Project Settings → Custom Code → Head Code

  SETUP:
  1. Replace YOUR_USERNAME and YOUR_REPO with your GitHub values.
  2. Load GSAP, ScrollTrigger, and jQuery from CDN *before* this snippet
     (Webflow already loads GSAP for Interactions — load ScrollTrigger separately if needed).

  HOW IT WORKS:
  • When your Vite dev server is running (npm run dev), it loads files
    from https://localhost:5173 with full HMR (hot reload).
  • When the dev server is off, it falls back to the production bundle
    served via jsDelivr from your GitHub repo.

  FIRST-TIME LOCAL SETUP:
  • Visit https://localhost:5173 once in your browser to trust the
    self-signed certificate (generated by vite-plugin-mkcert).
-->

<!-- Required externals — load BEFORE the loader below -->
<!-- Adjust versions as needed -->
<!-- <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script> -->

<!-- FWD White Label Loader -->
<script>
(function () {
  var LOCAL = 'https://localhost:5173';
  var CDN   = 'https://cdn.jsdelivr.net/gh/YOUR_USERNAME/YOUR_REPO@main/dist';

  function addCSS(href) {
    var l = document.createElement('link');
    l.rel = 'stylesheet';
    l.href = href;
    document.head.appendChild(l);
  }

  function addJS(src, type) {
    var s = document.createElement('script');
    s.src = src;
    if (type) s.type = type;
    document.head.appendChild(s);
    return s;
  }

  // @vite/client is only served by an active Vite dev server.
  // onload  → dev server is running → load local ES module (HMR enabled)
  // onerror → dev server is off     → load production bundle from CDN
  var probe = addJS(LOCAL + '/@vite/client', 'module');

  probe.onload = function () {
    addJS(LOCAL + '/src/js/main.js', 'module');
  };

  probe.onerror = function () {
    addCSS(CDN + '/bundle.css');
    addJS(CDN + '/bundle.js');
  };
})();
</script>
